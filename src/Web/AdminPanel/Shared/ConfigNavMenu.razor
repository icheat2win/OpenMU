@using MUnique.OpenMU.DataModel.Configuration
@using MUnique.OpenMU.DataModel.Configuration.Items
@using MUnique.OpenMU.DataModel.Entities
@using MUnique.OpenMU.Persistence;

<li>
    <!-- Dropdown Toggle Button -->
    <button @onclick="ToggleGameConfig" 
            class="flex items-center justify-between w-full px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-200 group">
        <div class="flex items-center gap-3">
            <span class="oi oi-cog text-amber-400 group-hover:scale-110 transition-transform" aria-hidden="true"></span>
            <span class="font-medium">Game Configuration</span>
        </div>
        <svg class="w-4 h-4 transition-transform duration-200 @(this._expandGameConfig ? "rotate-180" : "")" 
             fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>
    
    <!-- Dropdown Content -->
    @if (this._expandGameConfig)
    {
        <div class="mt-1 ml-3 pl-4 border-l-2 border-slate-700 space-y-0.5 animate-slideDown">
            <!-- System Section -->
            <div class="pt-2">
                <NavLink href="@($"edit-config/{typeof(SystemConfiguration).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-wrench text-xs text-slate-400" aria-hidden="true"></span>
                    <span>System</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(GameClientDefinition).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-laptop text-xs text-slate-400" aria-hidden="true"></span>
                    <span>Game Clients</span>
                </NavLink>
            </div>
            
            <!-- Game Content Section -->
            <div class="pt-3 border-t border-slate-800 mt-2">
                <div class="px-3 py-1 text-xs font-semibold text-slate-500 uppercase tracking-wider">Game Content</div>
                <NavLink href="@($"edit-config/{typeof(GameConfiguration).FullName}/{this.GameConfigurationId}/hide-collections")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-cog text-xs text-blue-400" aria-hidden="true"></span>
                    <span>General</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(MonsterDefinition).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">👾</span>
                    <span>Monsters</span>
                </NavLink>
                <NavLink href="@($"merchants/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">🏪</span>
                    <span>Merchant Stores</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(CharacterClass).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-person text-xs text-blue-400" aria-hidden="true"></span>
                    <span>Character Classes</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(Skill).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">⚔️</span>
                    <span>Skills</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(ItemDefinition).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">🎒</span>
                    <span>Items</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(CashShopProduct).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">💎</span>
                    <span>Cash Shop Products</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(DropItemGroup).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-box text-xs text-emerald-400" aria-hidden="true"></span>
                    <span>Drop Item Groups</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(GameMapDefinition).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">🗺️</span>
                    <span>Maps</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(MiniGameDefinition).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">🎯</span>
                    <span>Mini Games</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(WarpInfo).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">🌀</span>
                    <span>Warp List</span>
                </NavLink>
                <NavLink href="@($"edit-config-grid/{typeof(JewelMix).FullName}/")"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="text-xs">💍</span>
                    <span>Jewel Mixes</span>
                </NavLink>
            </div>
            
            <!-- Tools Section -->
            <div class="pt-3 border-t border-slate-800 mt-2">
                <div class="px-3 py-1 text-xs font-semibold text-slate-500 uppercase tracking-wider">Tools</div>
                <NavLink href="plugins"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-puzzle-piece text-xs text-cyan-400" aria-hidden="true"></span>
                    <span>Plugins</span>
                </NavLink>
                <NavLink href="plugin-certificates"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-shield text-xs text-amber-400" aria-hidden="true"></span>
                    <span>Plugin Certificates</span>
                </NavLink>
                <NavLink href="map-editor"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-globe text-xs text-green-400" aria-hidden="true"></span>
                    <span>Map Editor</span>
                </NavLink>
            </div>
            
            <!-- Advanced Section -->
            <div class="pt-3 border-t border-slate-800 mt-2 pb-2">
                <NavLink href="@($"edit-config/{typeof(GameConfiguration).FullName}/")" Match="NavLinkMatch.All"
                         class="flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white/5 transition-colors text-slate-300 hover:text-white">
                    <span class="oi oi-cog text-xs text-red-400" aria-hidden="true"></span>
                    <span class="font-medium">Full Configuration</span>
                </NavLink>
            </div>
        </div>
    }
</li>
